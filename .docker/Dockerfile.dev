FROM python:3.7

COPY . /app
WORKDIR /app

ARG FLASK_ENV
ENV FLASK_ENV ${FLASK_ENV}
ARG FLASK_PORT
ENV FLASK_PORT ${FLASK_PORT}


ARG MYSQL_DATABASE
ENV MYSQL_DATABASE ${MYSQL_DATABASE}
ARG MYSQL_USER
ENV MYSQL_USER ${MYSQL_USER}
ARG MYSQL_PASSWORD
ENV MYSQL_PASSWORD ${MYSQL_PASSWORD}
ARG MYSQL_ROOT_PASSWORD
ENV MYSQL_ROOT_PASSWORD ${MYSQL_ROOT_PASSWORD}
ARG MYSQL_PORT
ENV MYSQL_PORT ${MYSQL_PORT}

RUN pip install -r requirements.txt
EXPOSE ${FLASK_PORT}
CMD sh run_app_dev.sh
